<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŠ¸ë¦½ë‹·ì»´ ë¦¬ë·° ì‘ì„±ê¸°</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [inputText, setInputText] = useState('');
            const [result, setResult] = useState('');
            const [loading, setLoading] = useState(false);

            const callGemini = async () => {
                if (!inputText.trim()) return;
                setLoading(true);
                
                // 1. ì„¸ì€ë‹˜ API í‚¤ ì ìš© ì™„ë£Œ
                const apiKey = "AIzaSyAqXbxMdcprEQaHLhdEmwMSKw3ZMjSFOMM"; 
                // 2. 404 ì—ëŸ¬ ì›ì¸ì´ì—ˆë˜ ëª¨ë¸ëª…ì„ ì •ìƒì ì¸ gemini-1.5-flashë¡œ ìˆ˜ì •
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: `${inputText}ì— ëŒ€í•œ íŠ¸ë¦½ë‹·ì»´ ë¦¬ë·°ë¥¼ ê·œì¹™(400ì ë‚´ì™¸, ê¿€íŒ í¬í•¨)ì— ë§ì¶° ì‘ì„±í•´ì¤˜.` }] }]
                        })
                    });
                    
                    if (!response.ok) throw new Error(`HTTP ì—ëŸ¬: ${response.status}`);
                    
                    const data = await response.json();
                    setResult(data.candidates[0].content.parts[0].text);
                } catch (e) {
                    alert("ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. API í‚¤ë‚˜ ëª¨ë¸ ì£¼ì†Œë¥¼ í™•ì¸í•˜ì„¸ìš”.");
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="max-w-2xl mx-auto p-8">
                    <h1 className="text-3xl font-bold text-blue-600 mb-8 text-center">ğŸš¢ íŠ¸ë¦½ë‹·ì»´ ë¦¬ë·° ì‘ì„±ê¸°</h1>
                    <div className="bg-white p-6 rounded-2xl shadow-lg border">
                        <input 
                            type="text" 
                            className="w-full p-4 border-2 rounded-xl focus:border-blue-500 outline-none"
                            placeholder="ì¥ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì—¬ìˆ˜ ë¼í…Œë¼ìŠ¤ ã…2)"
                            value={inputText}
                            onChange={(e) => setInputText(e.target.value)}
                        />
                        <button 
                            onClick={callGemini}
                            className="w-full mt-4 bg-blue-600 text-white p-4 rounded-xl font-bold hover:bg-blue-700 transition"
                            disabled={loading}
                        >
                            {loading ? "ì‘ì„± ì¤‘..." : "ë¦¬ë·° ìƒì„±í•˜ê¸°"}
                        </button>
                    </div>
                    {result && (
                        <div className="mt-8 bg-white p-6 rounded-2xl shadow-md border whitespace-pre-wrap leading-relaxed">
                            {result}
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
